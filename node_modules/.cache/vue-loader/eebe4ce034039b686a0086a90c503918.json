{"remainingRequest":"/Users/junxihe/Desktop/Gateway/vue-front-end/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/junxihe/Desktop/Gateway/vue-front-end/src/views/service/grpc.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/junxihe/Desktop/Gateway/vue-front-end/src/views/service/grpc.vue","mtime":1635382540547},{"path":"/Users/junxihe/Desktop/Gateway/vue-front-end/node_modules/cache-loader/dist/cjs.js","mtime":1635056627451},{"path":"/Users/junxihe/Desktop/Gateway/vue-front-end/node_modules/babel-loader/lib/index.js","mtime":1635056627945},{"path":"/Users/junxihe/Desktop/Gateway/vue-front-end/node_modules/cache-loader/dist/cjs.js","mtime":1635056627451},{"path":"/Users/junxihe/Desktop/Gateway/vue-front-end/node_modules/vue-loader/lib/index.js","mtime":1635056627887}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgc2VydmljZURldGFpbCwKICBzZXJ2aWNlQWRkR3JwYywKICBzZXJ2aWNlVXBkYXRlR3JwYwp9IGZyb20gJ0AvYXBpL3NlcnZpY2UnCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7IH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzX2VkaXQ6IGZhbHNlLAogICAgICBkaXNhYmxlQnV0dG9uOiBmYWxzZSwKICAgICAgZm9ybTogewogICAgICAgIGlkOiAnMCcsCiAgICAgICAgc2VydmljZV9uYW1lOiAnJywKICAgICAgICBzZXJ2aWNlX2Rlc2M6ICcnLAogICAgICAgIHBvcnQ6ICcnLAogICAgICAgIHJ1bGVfdHlwZTogJzAnLAogICAgICAgIHJ1bGU6ICcnLAogICAgICAgIG5lZWRfaHR0cHM6ICcwJywKICAgICAgICBuZWVkX3N0cmlwX3VyaTogJzEnLAogICAgICAgIG5lZWRfd2Vic29ja2V0OiAnMScsCiAgICAgICAgdXJsX3Jld3JpdGU6ICcnLAogICAgICAgIGhlYWRlcl90cmFuc2ZvcjogJycsCiAgICAgICAgb3Blbl9hdXRoOiAnMCcsCiAgICAgICAgYmxhY2tfbGlzdDogJycsCiAgICAgICAgd2hpdGVfbGlzdDogJycsCiAgICAgICAgd2hpdGVfaG9zdF9uYW1lOiAnJywKICAgICAgICBjbGllbnRpcF9mbG93X2xpbWl0OiAnJywKICAgICAgICBzZXJ2aWNlX2Zsb3dfbGltaXQ6ICcnLAogICAgICAgIHJvdW5kX3R5cGU6ICcyJywKICAgICAgICBpcF9saXN0OiAnJywKICAgICAgICB3ZWlnaHRfbGlzdDogJycsCiAgICAgICAgZm9yYmlkX2xpc3Q6ICcnLAogICAgICAgIHVwc3RyZWFtX2Nvbm5lY3RfdGltZW91dDogJycsCiAgICAgICAgdXBzdHJlYW1faGVhZGVyX3RpbWVvdXQ6ICcnLAogICAgICAgIHVwc3RyZWFtX2lkbGVfdGltZW91dDogJycsCiAgICAgICAgdXBzdHJlYW1fbWF4X2lkbGU6ICcnCiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICBjb25zdCBpZCA9IHRoaXMuJHJvdXRlLnBhcmFtcyAmJiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQKICAgIGlmIChpZCA+IDApIHsKICAgICAgdGhpcy5pc19lZGl0ID0gdHJ1ZQogICAgICB0aGlzLmZldGNoRGF0YShpZCkKICAgIH0KICAgIHRoaXMudGVtcFJvdXRlID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy4kcm91dGUpCiAgfSwKICBtZXRob2RzOiB7CiAgICBmZXRjaERhdGEoaWQpIHsKICAgICAgdGhpcy5saXN0TG9hZGluZyA9IHRydWUKICAgICAgY29uc3QgcXVlcnkgPSB7CiAgICAgICAgaWQ6IGlkCiAgICAgIH0KICAgICAgc2VydmljZURldGFpbChxdWVyeSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgY29uc3QgZm9ybURhdGEgPSByZXNwb25zZS5kYXRhCgogICAgICAgIHRoaXMuZm9ybS5pZCA9IGZvcm1EYXRhLmluZm8uaWQKICAgICAgICB0aGlzLmZvcm0uc2VydmljZV9uYW1lID0gZm9ybURhdGEuaW5mby5zZXJ2aWNlX25hbWUKICAgICAgICB0aGlzLmZvcm0uc2VydmljZV9kZXNjID0gZm9ybURhdGEuaW5mby5zZXJ2aWNlX2Rlc2MKCiAgICAgICAgdGhpcy5mb3JtLnBvcnQgPSBmb3JtRGF0YS5ncnBjX3J1bGUucG9ydC50b1N0cmluZygpCgogICAgICAgIHRoaXMuZm9ybS5ydWxlX3R5cGUgPSBmb3JtRGF0YS5odHRwX3J1bGUucnVsZV90eXBlLnRvU3RyaW5nKCkKICAgICAgICB0aGlzLmZvcm0ucnVsZSA9IGZvcm1EYXRhLmh0dHBfcnVsZS5ydWxlCiAgICAgICAgdGhpcy5mb3JtLm5lZWRfaHR0cHMgPSBmb3JtRGF0YS5odHRwX3J1bGUubmVlZF9odHRwcy50b1N0cmluZygpCiAgICAgICAgdGhpcy5mb3JtLm5lZWRfc3RyaXBfdXJpID0gZm9ybURhdGEuaHR0cF9ydWxlLm5lZWRfc3RyaXBfdXJpLnRvU3RyaW5nKCkKICAgICAgICB0aGlzLmZvcm0ubmVlZF93ZWJzb2NrZXQgPSBmb3JtRGF0YS5odHRwX3J1bGUubmVlZF93ZWJzb2NrZXQudG9TdHJpbmcoKQogICAgICAgIHRoaXMuZm9ybS51cmxfcmV3cml0ZSA9IGZvcm1EYXRhLmh0dHBfcnVsZS51cmxfcmV3cml0ZS5yZXBsYWNlKC8sL2csICdcbicpCiAgICAgICAgdGhpcy5mb3JtLmhlYWRlcl90cmFuc2ZvciA9IGZvcm1EYXRhLmdycGNfcnVsZS5oZWFkZXJfdHJhbnNmb3IucmVwbGFjZSgvLC9nLCAnXG4nKQoKICAgICAgICB0aGlzLmZvcm0ub3Blbl9hdXRoID0gZm9ybURhdGEuYWNjZXNzX2NvbnRyb2wub3Blbl9hdXRoLnRvU3RyaW5nKCkKICAgICAgICB0aGlzLmZvcm0uYmxhY2tfbGlzdCA9IGZvcm1EYXRhLmFjY2Vzc19jb250cm9sLmJsYWNrX2xpc3QucmVwbGFjZSgvLC9nLCAnXG4nKQogICAgICAgIHRoaXMuZm9ybS53aGl0ZV9saXN0ID0gZm9ybURhdGEuYWNjZXNzX2NvbnRyb2wud2hpdGVfbGlzdC5yZXBsYWNlKC8sL2csICdcbicpCiAgICAgICAgdGhpcy5mb3JtLndoaXRlX2hvc3RfbmFtZSA9IGZvcm1EYXRhLmFjY2Vzc19jb250cm9sLndoaXRlX2hvc3RfbmFtZS5yZXBsYWNlKC8sL2csICdcbicpCiAgICAgICAgdGhpcy5mb3JtLmNsaWVudGlwX2Zsb3dfbGltaXQgPSBmb3JtRGF0YS5hY2Nlc3NfY29udHJvbC5jbGllbnRpcF9mbG93X2xpbWl0CiAgICAgICAgdGhpcy5mb3JtLnNlcnZpY2VfZmxvd19saW1pdCA9IGZvcm1EYXRhLmFjY2Vzc19jb250cm9sLnNlcnZpY2VfZmxvd19saW1pdAoKICAgICAgICB0aGlzLmZvcm0ucm91bmRfdHlwZSA9IGZvcm1EYXRhLmxvYWRfYmFsYW5jZS5yb3VuZF90eXBlLnRvU3RyaW5nKCkKICAgICAgICB0aGlzLmZvcm0uaXBfbGlzdCA9IGZvcm1EYXRhLmxvYWRfYmFsYW5jZS5pcF9saXN0LnJlcGxhY2UoLywvZywgJ1xuJykKICAgICAgICB0aGlzLmZvcm0ud2VpZ2h0X2xpc3QgPSBmb3JtRGF0YS5sb2FkX2JhbGFuY2Uud2VpZ2h0X2xpc3QucmVwbGFjZSgvLC9nLCAnXG4nKQogICAgICAgIHRoaXMuZm9ybS5mb3JiaWRfbGlzdCA9IGZvcm1EYXRhLmxvYWRfYmFsYW5jZS5mb3JiaWRfbGlzdC5yZXBsYWNlKC8sL2csICdcbicpCgogICAgICAgIHRoaXMuZm9ybS51cHN0cmVhbV9jb25uZWN0X3RpbWVvdXQgPSBmb3JtRGF0YS5sb2FkX2JhbGFuY2UudXBzdHJlYW1fY29ubmVjdF90aW1lb3V0CiAgICAgICAgdGhpcy5mb3JtLnVwc3RyZWFtX2hlYWRlcl90aW1lb3V0ID0gZm9ybURhdGEubG9hZF9iYWxhbmNlLnVwc3RyZWFtX2hlYWRlcl90aW1lb3V0CiAgICAgICAgdGhpcy5mb3JtLnVwc3RyZWFtX2lkbGVfdGltZW91dCA9IGZvcm1EYXRhLmxvYWRfYmFsYW5jZS51cHN0cmVhbV9pZGxlX3RpbWVvdXQKICAgICAgICB0aGlzLmZvcm0udXBzdHJlYW1fbWF4X2lkbGUgPSBmb3JtRGF0YS5sb2FkX2JhbGFuY2UudXBzdHJlYW1fbWF4X2lkbGUKCiAgICAgICAgdGhpcy5saXN0TG9hZGluZyA9IGZhbHNlCiAgICAgIH0pCiAgICB9LAogICAgb25TdWJtaXQoKSB7CiAgICAgIHRoaXMuZGlzYWJsZUJ1dHRvbiA9IHRydWUKICAgICAgY29uc3QgZm9ybURhdGEgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmZvcm0pCiAgICAgIGZvcm1EYXRhLnBvcnQgPSBOdW1iZXIoZm9ybURhdGEucG9ydCkKICAgICAgZm9ybURhdGEucnVsZV90eXBlID0gTnVtYmVyKGZvcm1EYXRhLnJ1bGVfdHlwZSkKICAgICAgZm9ybURhdGEubmVlZF9odHRwcyA9IE51bWJlcihmb3JtRGF0YS5uZWVkX2h0dHBzKQogICAgICBmb3JtRGF0YS5uZWVkX3N0cmlwX3VyaSA9IE51bWJlcihmb3JtRGF0YS5uZWVkX3N0cmlwX3VyaSkKICAgICAgZm9ybURhdGEubmVlZF93ZWJzb2NrZXQgPSBOdW1iZXIoZm9ybURhdGEubmVlZF93ZWJzb2NrZXQpCiAgICAgIGZvcm1EYXRhLm9wZW5fYXV0aCA9IE51bWJlcihmb3JtRGF0YS5vcGVuX2F1dGgpCiAgICAgIGZvcm1EYXRhLnJvdW5kX3R5cGUgPSBOdW1iZXIoZm9ybURhdGEucm91bmRfdHlwZSkKICAgICAgZm9ybURhdGEuY2xpZW50aXBfZmxvd19saW1pdCA9IE51bWJlcihmb3JtRGF0YS5jbGllbnRpcF9mbG93X2xpbWl0KQogICAgICBmb3JtRGF0YS5zZXJ2aWNlX2Zsb3dfbGltaXQgPSBOdW1iZXIoZm9ybURhdGEuc2VydmljZV9mbG93X2xpbWl0KQogICAgICBmb3JtRGF0YS51cHN0cmVhbV9jb25uZWN0X3RpbWVvdXQgPSBOdW1iZXIoZm9ybURhdGEudXBzdHJlYW1fY29ubmVjdF90aW1lb3V0KQogICAgICBmb3JtRGF0YS51cHN0cmVhbV9oZWFkZXJfdGltZW91dCA9IE51bWJlcihmb3JtRGF0YS51cHN0cmVhbV9oZWFkZXJfdGltZW91dCkKICAgICAgZm9ybURhdGEudXBzdHJlYW1faWRsZV90aW1lb3V0ID0gTnVtYmVyKGZvcm1EYXRhLnVwc3RyZWFtX2lkbGVfdGltZW91dCkKICAgICAgZm9ybURhdGEudXBzdHJlYW1fbWF4X2lkbGUgPSBOdW1iZXIoZm9ybURhdGEudXBzdHJlYW1fbWF4X2lkbGUpCgogICAgICBmb3JtRGF0YS5pcF9saXN0ID0gZm9ybURhdGEuaXBfbGlzdC5yZXBsYWNlKC9cbi9nLCAnLCcpCiAgICAgIGZvcm1EYXRhLndlaWdodF9saXN0ID0gZm9ybURhdGEud2VpZ2h0X2xpc3QucmVwbGFjZSgvXG4vZywgJywnKQogICAgICBmb3JtRGF0YS5mb3JiaWRfbGlzdCA9IGZvcm1EYXRhLmZvcmJpZF9saXN0LnJlcGxhY2UoL1xuL2csICcsJykKICAgICAgZm9ybURhdGEud2hpdGVfaG9zdF9uYW1lID0gZm9ybURhdGEud2hpdGVfaG9zdF9uYW1lLnJlcGxhY2UoL1xuL2csICcsJykKICAgICAgZm9ybURhdGEud2hpdGVfbGlzdCA9IGZvcm1EYXRhLndoaXRlX2xpc3QucmVwbGFjZSgvXG4vZywgJywnKQogICAgICBmb3JtRGF0YS5ibGFja19saXN0ID0gZm9ybURhdGEuYmxhY2tfbGlzdC5yZXBsYWNlKC9cbi9nLCAnLCcpCiAgICAgIGZvcm1EYXRhLmhlYWRlcl90cmFuc2ZvciA9IGZvcm1EYXRhLmhlYWRlcl90cmFuc2Zvci5yZXBsYWNlKC9cbi9nLCAnLCcpCiAgICAgIGZvcm1EYXRhLnVybF9yZXdyaXRlID0gZm9ybURhdGEudXJsX3Jld3JpdGUucmVwbGFjZSgvXG4vZywgJywnKQoKICAgICAgaWYgKHRoaXMuaXNfZWRpdCkgewogICAgICAgIHNlcnZpY2VVcGRhdGVHcnBjKGZvcm1EYXRhKS50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMuZGlzYWJsZUJ1dHRvbiA9IGZhbHNlCiAgICAgICAgICB0aGlzLiRub3RpZnkoewogICAgICAgICAgICB0aXRsZTogJ1N1Y2Nlc3MnLAogICAgICAgICAgICBtZXNzYWdlOiAnU3VibWl0IFN1Y2Nlc3NmdWxseScsCiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgZHVyYXRpb246IDUwMAogICAgICAgICAgfSkKICAgICAgICB9LCAoKSA9PiB7CiAgICAgICAgICB0aGlzLmRpc2FibGVCdXR0b24gPSBmYWxzZQogICAgICAgIH0pCiAgICAgIH0gZWxzZSB7CiAgICAgICAgc2VydmljZUFkZEdycGMoZm9ybURhdGEpLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy5kaXNhYmxlQnV0dG9uID0gZmFsc2UKICAgICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICAgIHRpdGxlOiAnU3VjY2VzcycsCiAgICAgICAgICAgIG1lc3NhZ2U6ICdTdWJtaXQgU3VjY2Vzc2Z1bGx5JywKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICBkdXJhdGlvbjogNTAwCiAgICAgICAgICB9KQogICAgICAgIH0sICgpID0+IHsKICAgICAgICAgIHRoaXMuZGlzYWJsZUJ1dHRvbiA9IGZhbHNlCiAgICAgICAgfSkKICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["grpc.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"grpc.vue","sourceRoot":"src/views/service","sourcesContent":["<template>\n  <div class=\"mixin-components-container\">\n    <el-row>\n      <el-form ref=\"form\" :model=\"form\" label-width=\"130px\">\n        <el-card class=\"box-card\" style=\"margin-bottom:20px;\">\n          <div slot=\"header\" class=\"clearfix\">\n            <span v-if=\"is_edit === false\">创建GRPC服务</span>\n            <span v-if=\"is_edit === true\">修改GRPC服务</span>\n          </div>\n          <div>\n            <el-form-item label=\"服务名称\" class=\"is-required\">\n              <el-input v-model=\"form.service_name\" :disabled=\"is_edit===true\" placeholder=\"6-128位字母数字下划线\" />\n            </el-form-item>\n            <el-form-item label=\"服务描述\" class=\"is-required\">\n              <el-input v-model=\"form.service_desc\" placeholder=\"最多255字符，必填\" />\n            </el-form-item>\n            <el-form-item label=\"端口\" class=\"is-required\">\n              <el-input v-model=\"form.port\" :disabled=\"is_edit===true\" placeholder=\"需要设置8001-8999范围内数字，必填\" />\n            </el-form-item>\n            <el-form-item label=\"metadata转换\">\n              <el-input v-model=\"form.header_transfor\" placeholder=\"metadata转换支持增加(add)、删除(del)、修改(edit) 格式: add headname headvalue 多条换行\" type=\"textarea\" :autosize=\"{ minRows: 2, maxRows: 20}\" />\n            </el-form-item>\n            <el-form-item label=\"开启验证\">\n              <el-switch\n                v-model=\"form.open_auth\"\n                active-value=\"1\"\n                inactive-value=\"0\"\n              />\n            </el-form-item>\n            <el-form-item label=\"IP白名单\">\n              <el-input v-model=\"form.white_list\" placeholder=\"格式: 127.0.0.1 多条换行，白名单优先级高于黑名单\" type=\"textarea\" :autosize=\"{ minRows: 2, maxRows: 20}\" />\n            </el-form-item>\n\n            <el-form-item label=\"IP黑名单\">\n              <el-input v-model=\"form.black_list\" placeholder=\"格式: 127.0.0.1 多条换行\" type=\"textarea\" :autosize=\"{ minRows: 2, maxRows: 20}\" />\n            </el-form-item>\n\n            <el-form-item label=\"客户端限流\">\n              <el-input v-model=\"form.clientip_flow_limit\" placeholder=\"0表示无限制\" />\n            </el-form-item>\n\n            <el-form-item label=\"服务端限流\">\n              <el-input v-model=\"form.service_flow_limit\" placeholder=\"0表示无限制\" />\n            </el-form-item>\n\n            <el-form-item label=\"轮询方式\">\n              <el-radio v-model=\"form.round_type\" label=\"0\">random</el-radio>\n              <el-radio v-model=\"form.round_type\" label=\"1\">round-robin</el-radio>\n              <el-radio v-model=\"form.round_type\" label=\"2\">weight_round-robin</el-radio>\n              <el-radio v-model=\"form.round_type\" label=\"3\">ip_hash</el-radio>\n            </el-form-item>\n\n            <el-form-item label=\"IP列表\" class=\"is-required\">\n              <el-input v-model=\"form.ip_list\" placeholder=\"格式: 127.0.0.1:80 多条换行\" type=\"textarea\" :autosize=\"{ minRows: 2, maxRows: 20}\" />\n            </el-form-item>\n\n            <el-form-item label=\"权重列表\" class=\"is-required\">\n              <el-input v-model=\"form.weight_list\" placeholder=\"格式: 50 多条换行\" type=\"textarea\" :autosize=\"{ minRows: 2, maxRows: 20}\" />\n            </el-form-item>\n\n            <el-form-item>\n              <el-button type=\"primary\" :loading=\"disableButton\" @click=\"onSubmit\">立即提交</el-button>\n            </el-form-item>\n          </div>\n        </el-card>\n      </el-form>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport {\n  serviceDetail,\n  serviceAddGrpc,\n  serviceUpdateGrpc\n} from '@/api/service'\nexport default {\n  components: { },\n  data() {\n    return {\n      is_edit: false,\n      disableButton: false,\n      form: {\n        id: '0',\n        service_name: '',\n        service_desc: '',\n        port: '',\n        rule_type: '0',\n        rule: '',\n        need_https: '0',\n        need_strip_uri: '1',\n        need_websocket: '1',\n        url_rewrite: '',\n        header_transfor: '',\n        open_auth: '0',\n        black_list: '',\n        white_list: '',\n        white_host_name: '',\n        clientip_flow_limit: '',\n        service_flow_limit: '',\n        round_type: '2',\n        ip_list: '',\n        weight_list: '',\n        forbid_list: '',\n        upstream_connect_timeout: '',\n        upstream_header_timeout: '',\n        upstream_idle_timeout: '',\n        upstream_max_idle: ''\n      }\n    }\n  },\n  created() {\n    const id = this.$route.params && this.$route.params.id\n    if (id > 0) {\n      this.is_edit = true\n      this.fetchData(id)\n    }\n    this.tempRoute = Object.assign({}, this.$route)\n  },\n  methods: {\n    fetchData(id) {\n      this.listLoading = true\n      const query = {\n        id: id\n      }\n      serviceDetail(query).then(response => {\n        const formData = response.data\n\n        this.form.id = formData.info.id\n        this.form.service_name = formData.info.service_name\n        this.form.service_desc = formData.info.service_desc\n\n        this.form.port = formData.grpc_rule.port.toString()\n\n        this.form.rule_type = formData.http_rule.rule_type.toString()\n        this.form.rule = formData.http_rule.rule\n        this.form.need_https = formData.http_rule.need_https.toString()\n        this.form.need_strip_uri = formData.http_rule.need_strip_uri.toString()\n        this.form.need_websocket = formData.http_rule.need_websocket.toString()\n        this.form.url_rewrite = formData.http_rule.url_rewrite.replace(/,/g, '\\n')\n        this.form.header_transfor = formData.grpc_rule.header_transfor.replace(/,/g, '\\n')\n\n        this.form.open_auth = formData.access_control.open_auth.toString()\n        this.form.black_list = formData.access_control.black_list.replace(/,/g, '\\n')\n        this.form.white_list = formData.access_control.white_list.replace(/,/g, '\\n')\n        this.form.white_host_name = formData.access_control.white_host_name.replace(/,/g, '\\n')\n        this.form.clientip_flow_limit = formData.access_control.clientip_flow_limit\n        this.form.service_flow_limit = formData.access_control.service_flow_limit\n\n        this.form.round_type = formData.load_balance.round_type.toString()\n        this.form.ip_list = formData.load_balance.ip_list.replace(/,/g, '\\n')\n        this.form.weight_list = formData.load_balance.weight_list.replace(/,/g, '\\n')\n        this.form.forbid_list = formData.load_balance.forbid_list.replace(/,/g, '\\n')\n\n        this.form.upstream_connect_timeout = formData.load_balance.upstream_connect_timeout\n        this.form.upstream_header_timeout = formData.load_balance.upstream_header_timeout\n        this.form.upstream_idle_timeout = formData.load_balance.upstream_idle_timeout\n        this.form.upstream_max_idle = formData.load_balance.upstream_max_idle\n\n        this.listLoading = false\n      })\n    },\n    onSubmit() {\n      this.disableButton = true\n      const formData = Object.assign({}, this.form)\n      formData.port = Number(formData.port)\n      formData.rule_type = Number(formData.rule_type)\n      formData.need_https = Number(formData.need_https)\n      formData.need_strip_uri = Number(formData.need_strip_uri)\n      formData.need_websocket = Number(formData.need_websocket)\n      formData.open_auth = Number(formData.open_auth)\n      formData.round_type = Number(formData.round_type)\n      formData.clientip_flow_limit = Number(formData.clientip_flow_limit)\n      formData.service_flow_limit = Number(formData.service_flow_limit)\n      formData.upstream_connect_timeout = Number(formData.upstream_connect_timeout)\n      formData.upstream_header_timeout = Number(formData.upstream_header_timeout)\n      formData.upstream_idle_timeout = Number(formData.upstream_idle_timeout)\n      formData.upstream_max_idle = Number(formData.upstream_max_idle)\n\n      formData.ip_list = formData.ip_list.replace(/\\n/g, ',')\n      formData.weight_list = formData.weight_list.replace(/\\n/g, ',')\n      formData.forbid_list = formData.forbid_list.replace(/\\n/g, ',')\n      formData.white_host_name = formData.white_host_name.replace(/\\n/g, ',')\n      formData.white_list = formData.white_list.replace(/\\n/g, ',')\n      formData.black_list = formData.black_list.replace(/\\n/g, ',')\n      formData.header_transfor = formData.header_transfor.replace(/\\n/g, ',')\n      formData.url_rewrite = formData.url_rewrite.replace(/\\n/g, ',')\n\n      if (this.is_edit) {\n        serviceUpdateGrpc(formData).then(() => {\n          this.disableButton = false\n          this.$notify({\n            title: 'Success',\n            message: 'Submit Successfully',\n            type: 'success',\n            duration: 500\n          })\n        }, () => {\n          this.disableButton = false\n        })\n      } else {\n        serviceAddGrpc(formData).then(() => {\n          this.disableButton = false\n          this.$notify({\n            title: 'Success',\n            message: 'Submit Successfully',\n            type: 'success',\n            duration: 500\n          })\n        }, () => {\n          this.disableButton = false\n        })\n      }\n    }\n  }\n}\n</script>\n<style scoped>\n.mixin-components-container {\n  background-color: #f0f2f5;\n  padding: 30px;\n  min-height: calc(100vh - 84px);\n}\n.component-item{\n  min-height: 100px;\n}\n.el-select .el-input {\n    width: 130px;\n  }\n  .input-with-select .el-input-group__prepend {\n    background-color: #fff;\n  }\n</style>\n"]}]}