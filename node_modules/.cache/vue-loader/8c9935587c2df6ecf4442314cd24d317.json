{"remainingRequest":"/Users/junxihe/Desktop/Gateway/vue-front-end/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/junxihe/Desktop/Gateway/vue-front-end/src/views/app/app.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/junxihe/Desktop/Gateway/vue-front-end/src/views/app/app.vue","mtime":1635382540544},{"path":"/Users/junxihe/Desktop/Gateway/vue-front-end/node_modules/cache-loader/dist/cjs.js","mtime":1635056627451},{"path":"/Users/junxihe/Desktop/Gateway/vue-front-end/node_modules/babel-loader/lib/index.js","mtime":1635056627945},{"path":"/Users/junxihe/Desktop/Gateway/vue-front-end/node_modules/cache-loader/dist/cjs.js","mtime":1635056627451},{"path":"/Users/junxihe/Desktop/Gateway/vue-front-end/node_modules/vue-loader/lib/index.js","mtime":1635056627887}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgYXBwRGV0YWlsLAogIGFwcEFkZCwKICBhcHBVcGRhdGUKfSBmcm9tICdAL2FwaS9hcHAnCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7IH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzX2VkaXQ6IGZhbHNlLAogICAgICBkaXNhYmxlQnV0dG9uOiBmYWxzZSwKICAgICAgZm9ybTogewogICAgICAgIGlkOiAnMCcsCiAgICAgICAgYXBwX2lkOiAnJywKICAgICAgICBuYW1lOiAnJywKICAgICAgICBzZWNyZXQ6ICcnLAogICAgICAgIHdoaXRlX2lwczogJycsCiAgICAgICAgcXBkOiAnJywKICAgICAgICBxcHM6ICcnCiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICBjb25zdCBpZCA9IHRoaXMuJHJvdXRlLnBhcmFtcyAmJiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQKICAgIGlmIChpZCA+IDApIHsKICAgICAgdGhpcy5pc19lZGl0ID0gdHJ1ZQogICAgICB0aGlzLmZldGNoRGF0YShpZCkKICAgIH0KICAgIHRoaXMudGVtcFJvdXRlID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy4kcm91dGUpCiAgfSwKICBtZXRob2RzOiB7CiAgICBmZXRjaERhdGEoaWQpIHsKICAgICAgdGhpcy5saXN0TG9hZGluZyA9IHRydWUKICAgICAgY29uc3QgcXVlcnkgPSB7CiAgICAgICAgaWQ6IGlkCiAgICAgIH0KICAgICAgYXBwRGV0YWlsKHF1ZXJ5KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBjb25zdCBmb3JtRGF0YSA9IHJlc3BvbnNlLmRhdGEKICAgICAgICB0aGlzLmZvcm0gPSBmb3JtRGF0YQogICAgICAgIHRoaXMubGlzdExvYWRpbmcgPSBmYWxzZQogICAgICB9KQogICAgfSwKICAgIG9uU3VibWl0KCkgewogICAgICB0aGlzLmRpc2FibGVCdXR0b24gPSB0cnVlCiAgICAgIGNvbnN0IGZvcm1EYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5mb3JtKQogICAgICBmb3JtRGF0YS5pZCA9IE51bWJlcihmb3JtRGF0YS5pZCkKICAgICAgZm9ybURhdGEucXBkID0gTnVtYmVyKGZvcm1EYXRhLnFwZCkKICAgICAgZm9ybURhdGEucXBzID0gTnVtYmVyKGZvcm1EYXRhLnFwcykKCiAgICAgIGlmICh0aGlzLmlzX2VkaXQpIHsKICAgICAgICBhcHBVcGRhdGUoZm9ybURhdGEpLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy5kaXNhYmxlQnV0dG9uID0gZmFsc2UKICAgICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICAgIHRpdGxlOiAnU3VjY2VzcycsCiAgICAgICAgICAgIG1lc3NhZ2U6ICdTdWJtaXQgU3VjY2Vzc2Z1bGx5JywKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICBkdXJhdGlvbjogNTAwCiAgICAgICAgICB9KQogICAgICAgIH0sICgpID0+IHsKICAgICAgICAgIHRoaXMuZGlzYWJsZUJ1dHRvbiA9IGZhbHNlCiAgICAgICAgfSkKICAgICAgfSBlbHNlIHsKICAgICAgICBhcHBBZGQoZm9ybURhdGEpLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy5kaXNhYmxlQnV0dG9uID0gZmFsc2UKICAgICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICAgIHRpdGxlOiAnU3VjY2VzcycsCiAgICAgICAgICAgIG1lc3NhZ2U6ICdTdWJtaXQgU3VjY2Vzc2Z1bGx5JywKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICBkdXJhdGlvbjogNTAwCiAgICAgICAgICB9KQogICAgICAgIH0sICgpID0+IHsKICAgICAgICAgIHRoaXMuZGlzYWJsZUJ1dHRvbiA9IGZhbHNlCiAgICAgICAgfSkKICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["app.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.vue","sourceRoot":"src/views/app","sourcesContent":["<template>\n  <div class=\"mixin-components-container\">\n    <el-row>\n      <el-form ref=\"form\" :model=\"form\" label-width=\"130px\">\n        <el-card class=\"box-card\" style=\"margin-bottom:20px;\">\n          <div slot=\"header\" class=\"clearfix\">\n            <span v-if=\"is_edit === false\">创建租户</span>\n            <span v-if=\"is_edit === true\">修改租户</span>\n          </div>\n          <div>\n            <el-form-item label=\"app_id\" class=\"is-required\">\n              <el-input v-model=\"form.app_id\" :disabled=\"is_edit===true\" placeholder=\"6-128位字母数字下划线\" />\n            </el-form-item>\n            <el-form-item label=\"租户名称\" class=\"is-required\">\n              <el-input v-model=\"form.name\" placeholder=\"最多255字符，必填\" />\n            </el-form-item>\n            <el-form-item label=\"32位密钥\">\n              <el-input v-model=\"form.secret\" placeholder=\"32位字符串，非必填，自动生成\" />\n            </el-form-item>\n\n            <el-form-item label=\"QPS限流\"><el-input v-model=\"form.qps\" placeholder=\"0表示无限制\" />\n            </el-form-item>\n\n            <el-form-item label=\"日请求量限流\">\n              <el-input v-model=\"form.qpd\" placeholder=\"0表示无限制\" />\n            </el-form-item>\n\n            <el-form-item>\n              <el-button type=\"primary\" :loading=\"disableButton\" @click=\"onSubmit\">立即提交</el-button>\n            </el-form-item>\n          </div>\n        </el-card>\n      </el-form>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport {\n  appDetail,\n  appAdd,\n  appUpdate\n} from '@/api/app'\nexport default {\n  components: { },\n  data() {\n    return {\n      is_edit: false,\n      disableButton: false,\n      form: {\n        id: '0',\n        app_id: '',\n        name: '',\n        secret: '',\n        white_ips: '',\n        qpd: '',\n        qps: ''\n      }\n    }\n  },\n  created() {\n    const id = this.$route.params && this.$route.params.id\n    if (id > 0) {\n      this.is_edit = true\n      this.fetchData(id)\n    }\n    this.tempRoute = Object.assign({}, this.$route)\n  },\n  methods: {\n    fetchData(id) {\n      this.listLoading = true\n      const query = {\n        id: id\n      }\n      appDetail(query).then(response => {\n        const formData = response.data\n        this.form = formData\n        this.listLoading = false\n      })\n    },\n    onSubmit() {\n      this.disableButton = true\n      const formData = Object.assign({}, this.form)\n      formData.id = Number(formData.id)\n      formData.qpd = Number(formData.qpd)\n      formData.qps = Number(formData.qps)\n\n      if (this.is_edit) {\n        appUpdate(formData).then(() => {\n          this.disableButton = false\n          this.$notify({\n            title: 'Success',\n            message: 'Submit Successfully',\n            type: 'success',\n            duration: 500\n          })\n        }, () => {\n          this.disableButton = false\n        })\n      } else {\n        appAdd(formData).then(() => {\n          this.disableButton = false\n          this.$notify({\n            title: 'Success',\n            message: 'Submit Successfully',\n            type: 'success',\n            duration: 500\n          })\n        }, () => {\n          this.disableButton = false\n        })\n      }\n    }\n  }\n}\n</script>\n<style scoped>\n.mixin-components-container {\n  background-color: #f0f2f5;\n  padding: 30px;\n  min-height: calc(100vh - 84px);\n}\n.component-item{\n  min-height: 100px;\n}\n.el-select .el-input {\n    width: 130px;\n  }\n.input-with-select .el-input-group__prepend {\n  background-color: #fff;\n}\n</style>\n"]}]}