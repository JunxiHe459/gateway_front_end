{"remainingRequest":"/Users/junxihe/Desktop/Gateway/vue-front-end/node_modules/babel-loader/lib/index.js!/Users/junxihe/Desktop/Gateway/vue-front-end/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/junxihe/Desktop/Gateway/vue-front-end/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/junxihe/Desktop/Gateway/vue-front-end/src/views/app/app.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/junxihe/Desktop/Gateway/vue-front-end/src/views/app/app.vue","mtime":1635382540544},{"path":"/Users/junxihe/Desktop/Gateway/vue-front-end/babel.config.js","mtime":1635056485153},{"path":"/Users/junxihe/Desktop/Gateway/vue-front-end/node_modules/cache-loader/dist/cjs.js","mtime":1635056627451},{"path":"/Users/junxihe/Desktop/Gateway/vue-front-end/node_modules/babel-loader/lib/index.js","mtime":1635056627945},{"path":"/Users/junxihe/Desktop/Gateway/vue-front-end/node_modules/cache-loader/dist/cjs.js","mtime":1635056627451},{"path":"/Users/junxihe/Desktop/Gateway/vue-front-end/node_modules/vue-loader/lib/index.js","mtime":1635056627887}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgYXBwRGV0YWlsLCBhcHBBZGQsIGFwcFVwZGF0ZSB9IGZyb20gJ0AvYXBpL2FwcCc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNfZWRpdDogZmFsc2UsCiAgICAgIGRpc2FibGVCdXR0b246IGZhbHNlLAogICAgICBmb3JtOiB7CiAgICAgICAgaWQ6ICcwJywKICAgICAgICBhcHBfaWQ6ICcnLAogICAgICAgIG5hbWU6ICcnLAogICAgICAgIHNlY3JldDogJycsCiAgICAgICAgd2hpdGVfaXBzOiAnJywKICAgICAgICBxcGQ6ICcnLAogICAgICAgIHFwczogJycKICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgaWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMgJiYgdGhpcy4kcm91dGUucGFyYW1zLmlkOwoKICAgIGlmIChpZCA+IDApIHsKICAgICAgdGhpcy5pc19lZGl0ID0gdHJ1ZTsKICAgICAgdGhpcy5mZXRjaERhdGEoaWQpOwogICAgfQoKICAgIHRoaXMudGVtcFJvdXRlID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy4kcm91dGUpOwogIH0sCiAgbWV0aG9kczogewogICAgZmV0Y2hEYXRhOiBmdW5jdGlvbiBmZXRjaERhdGEoaWQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMubGlzdExvYWRpbmcgPSB0cnVlOwogICAgICB2YXIgcXVlcnkgPSB7CiAgICAgICAgaWQ6IGlkCiAgICAgIH07CiAgICAgIGFwcERldGFpbChxdWVyeSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICB2YXIgZm9ybURhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICAgIF90aGlzLmZvcm0gPSBmb3JtRGF0YTsKICAgICAgICBfdGhpcy5saXN0TG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBvblN1Ym1pdDogZnVuY3Rpb24gb25TdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5kaXNhYmxlQnV0dG9uID0gdHJ1ZTsKICAgICAgdmFyIGZvcm1EYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5mb3JtKTsKICAgICAgZm9ybURhdGEuaWQgPSBOdW1iZXIoZm9ybURhdGEuaWQpOwogICAgICBmb3JtRGF0YS5xcGQgPSBOdW1iZXIoZm9ybURhdGEucXBkKTsKICAgICAgZm9ybURhdGEucXBzID0gTnVtYmVyKGZvcm1EYXRhLnFwcyk7CgogICAgICBpZiAodGhpcy5pc19lZGl0KSB7CiAgICAgICAgYXBwVXBkYXRlKGZvcm1EYXRhKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMi5kaXNhYmxlQnV0dG9uID0gZmFsc2U7CgogICAgICAgICAgX3RoaXMyLiRub3RpZnkoewogICAgICAgICAgICB0aXRsZTogJ1N1Y2Nlc3MnLAogICAgICAgICAgICBtZXNzYWdlOiAnU3VibWl0IFN1Y2Nlc3NmdWxseScsCiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgZHVyYXRpb246IDUwMAogICAgICAgICAgfSk7CiAgICAgICAgfSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMyLmRpc2FibGVCdXR0b24gPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBhcHBBZGQoZm9ybURhdGEpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMyLmRpc2FibGVCdXR0b24gPSBmYWxzZTsKCiAgICAgICAgICBfdGhpczIuJG5vdGlmeSh7CiAgICAgICAgICAgIHRpdGxlOiAnU3VjY2VzcycsCiAgICAgICAgICAgIG1lc3NhZ2U6ICdTdWJtaXQgU3VjY2Vzc2Z1bGx5JywKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICBkdXJhdGlvbjogNTAwCiAgICAgICAgICB9KTsKICAgICAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczIuZGlzYWJsZUJ1dHRvbiA9IGZhbHNlOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["app.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA,SACA,SADA,EAEA,MAFA,EAGA,SAHA,QAIA,WAJA;AAKA,eAAA;AACA,EAAA,UAAA,EAAA,EADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,KADA;AAEA,MAAA,aAAA,EAAA,KAFA;AAGA,MAAA,IAAA,EAAA;AACA,QAAA,EAAA,EAAA,GADA;AAEA,QAAA,MAAA,EAAA,EAFA;AAGA,QAAA,IAAA,EAAA,EAHA;AAIA,QAAA,MAAA,EAAA,EAJA;AAKA,QAAA,SAAA,EAAA,EALA;AAMA,QAAA,GAAA,EAAA,EANA;AAOA,QAAA,GAAA,EAAA;AAPA;AAHA,KAAA;AAaA,GAhBA;AAiBA,EAAA,OAjBA,qBAiBA;AACA,QAAA,EAAA,GAAA,KAAA,MAAA,CAAA,MAAA,IAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA;;AACA,QAAA,EAAA,GAAA,CAAA,EAAA;AACA,WAAA,OAAA,GAAA,IAAA;AACA,WAAA,SAAA,CAAA,EAAA;AACA;;AACA,SAAA,SAAA,GAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,KAAA,MAAA,CAAA;AACA,GAxBA;AAyBA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,qBACA,EADA,EACA;AAAA;;AACA,WAAA,WAAA,GAAA,IAAA;AACA,UAAA,KAAA,GAAA;AACA,QAAA,EAAA,EAAA;AADA,OAAA;AAGA,MAAA,SAAA,CAAA,KAAA,CAAA,CAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,YAAA,QAAA,GAAA,QAAA,CAAA,IAAA;AACA,QAAA,KAAA,CAAA,IAAA,GAAA,QAAA;AACA,QAAA,KAAA,CAAA,WAAA,GAAA,KAAA;AACA,OAJA;AAKA,KAXA;AAYA,IAAA,QAZA,sBAYA;AAAA;;AACA,WAAA,aAAA,GAAA,IAAA;AACA,UAAA,QAAA,GAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,KAAA,IAAA,CAAA;AACA,MAAA,QAAA,CAAA,EAAA,GAAA,MAAA,CAAA,QAAA,CAAA,EAAA,CAAA;AACA,MAAA,QAAA,CAAA,GAAA,GAAA,MAAA,CAAA,QAAA,CAAA,GAAA,CAAA;AACA,MAAA,QAAA,CAAA,GAAA,GAAA,MAAA,CAAA,QAAA,CAAA,GAAA,CAAA;;AAEA,UAAA,KAAA,OAAA,EAAA;AACA,QAAA,SAAA,CAAA,QAAA,CAAA,CAAA,IAAA,CAAA,YAAA;AACA,UAAA,MAAA,CAAA,aAAA,GAAA,KAAA;;AACA,UAAA,MAAA,CAAA,OAAA,CAAA;AACA,YAAA,KAAA,EAAA,SADA;AAEA,YAAA,OAAA,EAAA,qBAFA;AAGA,YAAA,IAAA,EAAA,SAHA;AAIA,YAAA,QAAA,EAAA;AAJA,WAAA;AAMA,SARA,EAQA,YAAA;AACA,UAAA,MAAA,CAAA,aAAA,GAAA,KAAA;AACA,SAVA;AAWA,OAZA,MAYA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,CAAA,IAAA,CAAA,YAAA;AACA,UAAA,MAAA,CAAA,aAAA,GAAA,KAAA;;AACA,UAAA,MAAA,CAAA,OAAA,CAAA;AACA,YAAA,KAAA,EAAA,SADA;AAEA,YAAA,OAAA,EAAA,qBAFA;AAGA,YAAA,IAAA,EAAA,SAHA;AAIA,YAAA,QAAA,EAAA;AAJA,WAAA;AAMA,SARA,EAQA,YAAA;AACA,UAAA,MAAA,CAAA,aAAA,GAAA,KAAA;AACA,SAVA;AAWA;AACA;AA5CA;AAzBA,CAAA","sourcesContent":["<template>\n  <div class=\"mixin-components-container\">\n    <el-row>\n      <el-form ref=\"form\" :model=\"form\" label-width=\"130px\">\n        <el-card class=\"box-card\" style=\"margin-bottom:20px;\">\n          <div slot=\"header\" class=\"clearfix\">\n            <span v-if=\"is_edit === false\">创建租户</span>\n            <span v-if=\"is_edit === true\">修改租户</span>\n          </div>\n          <div>\n            <el-form-item label=\"app_id\" class=\"is-required\">\n              <el-input v-model=\"form.app_id\" :disabled=\"is_edit===true\" placeholder=\"6-128位字母数字下划线\" />\n            </el-form-item>\n            <el-form-item label=\"租户名称\" class=\"is-required\">\n              <el-input v-model=\"form.name\" placeholder=\"最多255字符，必填\" />\n            </el-form-item>\n            <el-form-item label=\"32位密钥\">\n              <el-input v-model=\"form.secret\" placeholder=\"32位字符串，非必填，自动生成\" />\n            </el-form-item>\n\n            <el-form-item label=\"QPS限流\"><el-input v-model=\"form.qps\" placeholder=\"0表示无限制\" />\n            </el-form-item>\n\n            <el-form-item label=\"日请求量限流\">\n              <el-input v-model=\"form.qpd\" placeholder=\"0表示无限制\" />\n            </el-form-item>\n\n            <el-form-item>\n              <el-button type=\"primary\" :loading=\"disableButton\" @click=\"onSubmit\">立即提交</el-button>\n            </el-form-item>\n          </div>\n        </el-card>\n      </el-form>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport {\n  appDetail,\n  appAdd,\n  appUpdate\n} from '@/api/app'\nexport default {\n  components: { },\n  data() {\n    return {\n      is_edit: false,\n      disableButton: false,\n      form: {\n        id: '0',\n        app_id: '',\n        name: '',\n        secret: '',\n        white_ips: '',\n        qpd: '',\n        qps: ''\n      }\n    }\n  },\n  created() {\n    const id = this.$route.params && this.$route.params.id\n    if (id > 0) {\n      this.is_edit = true\n      this.fetchData(id)\n    }\n    this.tempRoute = Object.assign({}, this.$route)\n  },\n  methods: {\n    fetchData(id) {\n      this.listLoading = true\n      const query = {\n        id: id\n      }\n      appDetail(query).then(response => {\n        const formData = response.data\n        this.form = formData\n        this.listLoading = false\n      })\n    },\n    onSubmit() {\n      this.disableButton = true\n      const formData = Object.assign({}, this.form)\n      formData.id = Number(formData.id)\n      formData.qpd = Number(formData.qpd)\n      formData.qps = Number(formData.qps)\n\n      if (this.is_edit) {\n        appUpdate(formData).then(() => {\n          this.disableButton = false\n          this.$notify({\n            title: 'Success',\n            message: 'Submit Successfully',\n            type: 'success',\n            duration: 500\n          })\n        }, () => {\n          this.disableButton = false\n        })\n      } else {\n        appAdd(formData).then(() => {\n          this.disableButton = false\n          this.$notify({\n            title: 'Success',\n            message: 'Submit Successfully',\n            type: 'success',\n            duration: 500\n          })\n        }, () => {\n          this.disableButton = false\n        })\n      }\n    }\n  }\n}\n</script>\n<style scoped>\n.mixin-components-container {\n  background-color: #f0f2f5;\n  padding: 30px;\n  min-height: calc(100vh - 84px);\n}\n.component-item{\n  min-height: 100px;\n}\n.el-select .el-input {\n    width: 130px;\n  }\n.input-with-select .el-input-group__prepend {\n  background-color: #fff;\n}\n</style>\n"],"sourceRoot":"src/views/app"}]}